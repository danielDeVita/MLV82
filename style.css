/* ================================ */
/*          STYLE.CSS               */
/* ================================ */

/* Basic Reset / Body Styles */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: sans-serif;
  background-color: #222; /* Dark background for the page */
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  overflow: hidden; /* Prevent scrollbars from body */
}

/* Game Container */
#game-container {
  position: relative; /* Crucial for positioning overlays */
  width: 1280px; /* Match game width */
  height: 720px; /* Match game height */
  overflow: hidden; /* Hide anything spilling out */
  border: 3px solid black;
  background-color: var(--sky-color, #87ceeb); /* Default day sky blue */
}

/* Canvas */
#gameCanvas {
  position: absolute;
  top: 0;
  left: 0;
  width: 1280px;
  height: 720px;
  z-index: 10;
  image-rendering: pixelated;
  image-rendering: -moz-crisp-edges;
  image-rendering: crisp-edges;
}

/* Background Layers (General CSS Properties) */
.background-layer {
  position: absolute;
  left: 0;
  top: 70px; /* Pushes sky layers down to clear HUD */
  width: 200%; /* Make container twice as wide */
  height: 100%;
  background-repeat: repeat-x;
  will-change: transform;
  animation-name: parallax-scroll;
  animation-timing-function: linear;
  animation-iteration-count: infinite;
}

/* Specific Layers - Sizing and Images */
#sky-color-layer {
  z-index: 0;
}
#distant-mountains-layer {
  z-index: 1;
  background-image: url('images/distant-mountains-layer3.png');
  background-size: 50% 85px; /* 170px / 2 */
  background-position: 0 435px; /* Positioned precisely above the sea */
  animation-duration: 120s;
}
#far-clouds-layer {
  z-index: 2;
  background-image: url('images/far-clouds-layer.png');
  background-size: 50% 125px; /* 250px / 2 */
  animation-duration: 80s;
}
#near-mountains-layer {
  z-index: 3;
  background-image: url('images/near-mountains-layer1.png');
  background-size: 50% 150px; /* 300px / 2 */
  background-position: 0 390px; /* Positioned precisely above the sea */
  animation-duration: 90s;
}
#mid-clouds-layer {
  z-index: 4;
  background-image: url('images/mid-clouds-layer.png');
  background-size: 50% 125px; /* 250px / 2 */
  animation-duration: 40s;
}
#near-clouds-layer {
  z-index: 6;
  background-image: url('images/near-clouds-layer.png');
  background-size: 50% 200px; /* 400px / 2 */
  animation-duration: 20s;
}

/* --- Sea Layers --- */
#far-sea-layer,
#mid-sea-layer,
#close-sea-layer {
  top: auto; /* Override general top rule */
  bottom: 0; /* Anchor to the bottom of the screen */
  height: 25%; /* Define height from the bottom up */
}
#far-sea-layer {
  z-index: 5;
  background-image: url('images/far-sea-layer .png');
  background-size: 50% 100%; /* Stretch to fill container, no gaps */
  animation-duration: 70s;
}
#mid-sea-layer {
  z-index: 7;
  background-image: url('images/mid-sea-layer.png');
  background-size: 50% 100%; /* Stretch to fill container, no gaps */
  animation-duration: 45s;
}
#close-sea-layer {
  z-index: 8;
  background-image: url('images/close-sea-layer.png');
  background-size: 50% 100%; /* Stretch to fill container, no gaps */
  animation-duration: 25s;
}

/* --- PARALLAX ANIMATIONS --- */
/* Keyframes - Use transform for smooth, seamless scrolling */
@keyframes parallax-scroll {
  from {
    transform: translateX(0);
  }
  to {
    transform: translateX(-50%); /* Move left by half the container width */
  }
}

/* --- UI Overlay --- */
#ui {
  position: absolute;
  top: 10px;
  left: 10px;
  color: white;
  font-size: 1.2em;
  text-shadow: 1px 1px 2px black;
  z-index: 50;
  display: flex;
  flex-wrap: wrap;
  gap: 15px;
  align-items: center;
  pointer-events: none;
}

#ui div {
  background-color: rgba(0, 0, 0, 0.4);
  padding: 6px 12px;
  border-radius: 5px;
  white-space: nowrap;
}

#lives.low-lives {
  color: #ff4d4d;
  font-weight: bold;
}

#bullet-ammo.low-ammo,
#bomb-ammo.low-ammo {
  color: #ffcc00;
  font-weight: bold;
}

/* --- OVERLAYS (Game Over / Game Won) --- */
.overlay {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background-color: rgba(0, 0, 0, 0.75);
  color: white;
  padding: 40px;
  border-radius: 10px;
  text-align: center;
  z-index: 100;
  min-width: 300px;
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.5);
  pointer-events: auto;
}

.overlay h1 {
  margin-bottom: 25px;
  font-size: 2.5em;
}

.overlay button {
  padding: 12px 25px;
  font-size: 1.1em;
  cursor: pointer;
  color: white;
  border: none;
  border-radius: 5px;
  margin-top: 20px;
  transition: background-color 0.2s ease;
}

#game-over h1 {
  color: #ff4d4d;
}
#game-over button#restartButton {
  background-color: #dc3545;
}
#game-over button#restartButton:hover {
  background-color: #c82333;
}

#game-won h1 {
  color: #4dd2ff;
}
#game-won p#final-score-won {
  font-size: 1.4em;
  color: #ffcc00;
  margin-bottom: 25px;
}
#game-won button#restartButtonWon {
  background-color: #007bff;
}
#game-won button#restartButtonWon:hover {
  background-color: #0056b3;
}
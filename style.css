/* ================================ */
/*          STYLE.CSS               */
/* ================================ */

/* Basic Reset / Body Styles */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: sans-serif;
  background-color: #222; /* Dark background for the page */
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  overflow: hidden; /* Prevent scrollbars from body */
}

/* Game Container */
#game-container {
  position: relative; /* Crucial for positioning overlays */
  width: 1280px; /* Match game width */
  height: 720px; /* Match game height */
  overflow: hidden; /* Hide anything spilling out */
  border: 3px solid black;
  /* --- Use CSS Variable for Background Color (updated by background.js) --- */
  /* Set fallback color for initial load or if JS fails */
  background-color: var(
    --sky-color,
    #87ceeb
  ); /* Default day sky blue */
}

/* Canvas */
#gameCanvas {
  position: absolute;
  top: 0;
  left: 0;
  width: 1280px;
  height: 720px;
  z-index: 10; /* Above CSS backgrounds, below UI */
  /* Optional: Make canvas transparent if ONLY relying on CSS container background */
  /* background-color: transparent; */
  /* Optional: Explicitly prevent browser scaling */
  image-rendering: pixelated; /* Modern browsers */
  image-rendering: -moz-crisp-edges; /* Firefox */
  image-rendering: crisp-edges; /* Older standard / some browsers */
}

/* Background Layers (General CSS Properties) */
.background-layer {
  position: absolute;
  left: 0;
  top: 0;
  width: 200%;
  height: 100%;
  background-repeat: repeat-x;
  background-size: auto; /* Let browser determine size, maintaining aspect ratio */
  will-change: transform;
  animation-name: parallax-scroll;
  animation-timing-function: linear;
  animation-iteration-count: infinite;
}

/* Specific Layers - Sky/Mountains/Clouds */
/* (Uncomment background-image lines when you have the image files) */
#sky-color-layer {
  z-index: 0; /* Not visually rendered if container has background */
}
#distant-mountains-layer {
  z-index: 1;
  background-image: url('images/distant-mountains-layer3.png');
  background-size: auto 100%; /* Stretch to full height of its container */
  animation-duration: 120s;
}
#far-clouds-layer {
  z-index: 2;
  background-image: url('images/far-clouds-layer.png');
  background-size: auto 150px; /* Fixed height for clouds */
  animation-duration: 80s;
}
#near-mountains-layer {
  z-index: 3;
  background-image: url('images/near-mountains-layer1.png');
  background-size: auto 100%; /* Stretch to full height of its container */
  animation-duration: 90s;
}
#mid-clouds-layer {
  z-index: 4;
  background-image: url('images/mid-clouds-layer.png');
  background-size: auto 175px; /* Fixed height for clouds */
  animation-duration: 40s;
}
#near-clouds-layer {
  z-index: 6; /* Drawn behind mid-sea but in front of far-sea */
  background-image: url('images/near-clouds-layer.png');
  background-size: auto 200px; /* Fixed height for clouds */
  animation-duration: 20s;
}

/* --- Sea Layers (Positioned and Sized via CSS) --- */
/* Common styles for sea layers */
#far-sea-layer,
#mid-sea-layer,
#close-sea-layer {
  top: 60%;
  height: 40%;
}

/* Assign background images and z-index */
#far-sea-layer {
  z-index: 5;
  background-image: url('images/far-sea-layer .png');
  background-size: auto 100%; /* Stretch to full height of its container */
  animation-duration: 70s;
}
#mid-sea-layer {
  z-index: 7;
  background-image: url('images/mid-sea-layer.png');
  background-size: auto 100%; /* Stretch to full height of its container */
  animation-duration: 45s;
}
#close-sea-layer {
  z-index: 8;
  background-image: url('images/close-sea-layer.png');
  background-size: auto 100%; /* Stretch to full height of its container */
  animation-duration: 25s;
}
/* --- END Sea Layers --- */

/* Canvas is z-index: 10 */

/* --- PARALLAX ANIMATIONS --- */
/* Keyframes - Use transform for smooth, seamless scrolling */
@keyframes parallax-scroll {
  from {
    transform: translateX(0);
  }
  to {
    transform: translateX(-50%);
  }
}

/* Apply animations (Uncomment when images are added) */
/*
#distant-mountains-layer {
  animation: parallax-scroll 120s linear infinite;
}
#far-clouds-layer {
  animation: parallax-scroll 80s linear infinite;
}
#near-mountains-layer {
  animation: parallax-scroll 90s linear infinite;
}
#mid-clouds-layer {
  animation: parallax-scroll 40s linear infinite;
}
#near-clouds-layer {
  animation: parallax-scroll 20s linear infinite;
}
/* Apply to Sea Layers */
/*
#far-sea-layer {
  animation: parallax-scroll 70s linear infinite;
}
#mid-sea-layer {
  animation: parallax-scroll 45s linear infinite;
}
#close-sea-layer {
  animation: parallax-scroll 25s linear infinite;
}
*/
/* --- End Animations --- */

/* --- UI Overlay --- */
#ui {
  position: absolute;
  top: 10px;
  left: 10px;
  color: white;
  font-size: 1.2em;
  text-shadow: 1px 1px 2px black;
  z-index: 50; /* Above canvas */
  display: flex;
  flex-wrap: wrap; /* Allow items to wrap */
  gap: 15px; /* Space between items */
  align-items: center;
  pointer-events: none; /* Prevent UI blocking clicks */
}

#ui div {
  background-color: rgba(0, 0, 0, 0.4);
  padding: 6px 12px;
  border-radius: 5px;
  white-space: nowrap;
}

#lives.low-lives {
  color: #ff4d4d; /* Red */
  font-weight: bold;
}

/* Low Ammo Style */
#bullet-ammo.low-ammo,
#bomb-ammo.low-ammo {
  color: #ffcc00; /* Yellow/Orange */
  font-weight: bold;
}
/* --- End UI --- */

/* --- OVERLAYS (Game Over / Game Won) --- */
.overlay {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background-color: rgba(0, 0, 0, 0.75);
  color: white;
  padding: 40px;
  border-radius: 10px;
  text-align: center;
  z-index: 100; /* Above everything */
  min-width: 300px;
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.5);
  pointer-events: auto; /* Allow interaction with overlays */
}

.overlay h1 {
  margin-bottom: 25px;
  font-size: 2.5em;
}

.overlay button {
  padding: 12px 25px;
  font-size: 1.1em;
  cursor: pointer;
  color: white;
  border: none;
  border-radius: 5px;
  margin-top: 20px;
  transition: background-color 0.2s ease;
}

/* Game Over Specific Styles */
#game-over h1 {
  color: #ff4d4d;
}
#game-over button#restartButton {
  background-color: #dc3545;
}
#game-over button#restartButton:hover {
  background-color: #c82333;
}

/* Game Won Specific Styles */
#game-won h1 {
  color: #4dd2ff;
}
#game-won p#final-score-won {
  font-size: 1.4em;
  color: #ffcc00;
  margin-bottom: 25px;
}
#game-won button#restartButtonWon {
  background-color: #007bff;
}
#game-won button#restartButtonWon:hover {
  background-color: #0056b3;
}
/* --- End Overlays --- */
